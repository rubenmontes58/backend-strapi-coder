"use strict";(self.webpackChunkmy_project=self.webpackChunkmy_project||[]).push([[7027],{27887:(U,g,e)=>{e.d(g,{r:()=>f});var o=e(67294),l=e(45697),c=e.n(l),h=e(99168),E=e(41580);function D(d,T,r){if(!d||!T)return{display:"none"};const{x:m,y:C}=r;return{transform:`translate(${m}px, ${C}px)`}}function f({renderItem:d}){const{itemType:T,isDragging:r,item:m,initialOffset:C,currentOffset:W,mouseOffset:b}=(0,h.useDragLayer)(P=>({item:P.getItem(),itemType:P.getItemType(),initialOffset:P.getInitialSourceClientOffset(),currentOffset:P.getSourceClientOffset(),isDragging:P.isDragging(),mouseOffset:P.getClientOffset()}));return r?o.createElement(E.x,{height:"100%",left:0,position:"fixed",pointerEvents:"none",top:0,zIndex:100,width:"100%"},o.createElement(E.x,{style:D(C,W,b)},d({type:T,item:m}))):null}f.propTypes={renderItem:c().func.isRequired}},99781:(U,g,e)=>{var o=e(67294);const l=(0,o.createContext)();var c=null},75642:(U,g,e)=>{e.d(g,{PL:()=>E,Y9:()=>Te.Y,zE:()=>H,Ky:()=>a,fi:()=>O,zH:()=>fe,r5:()=>V});var o=e(67294),l=e(86706),c=e(21323);const E=()=>{const t=(0,l.v9)(c.Z),s=(0,o.useCallback)(n=>t?.components?.[n]??{},[t]);return{...t,getComponentLayout:s}};var D=e(52861),f=e(73599),d=e(50361),T=e.n(d),r=e(27361),m=e.n(r),C=e(36968),W=e.n(C),b=e(47815);const P=(t,s)=>s.find(n=>n.uid===t),G=(t,s)=>{const n=w(t,s),i=z(n.contentType,s),v=q(n.contentType,n.components);return W()(n,["contentType","layouts","edit"],i),W()(n,["contentType","layouts","list"],v),Object.keys(n.components).forEach(y=>{const L=z(n.components[y],s);W()(n,["components",y,"layouts","edit"],L)}),n},w=(t,s)=>{const n=(0,b.w8)(T()(t),s,"contentType"),{components:i,contentType:v}=n,y=L=>Object.keys(L.metadatas).reduce((k,I)=>{const B=m()(L,["attributes",I],{});let x=L.metadatas[I];if(B.type==="relation"){const me=P(B.targetModel,s),j=x.edit.mainField,_={name:j,schema:m()(me,["attributes",j])};x={list:{...x.list,mainField:_},edit:{...x.edit,mainField:_}}}return k[I]=x,k},{});return W()(n,["contentType","metadatas"],y(v)),Object.keys(i).forEach(L=>{const k=i[L],I=y(k);W()(n,["components",L,"metadatas"],I)}),n},z=(t,s)=>t.layouts.edit.reduce((n,i)=>{const v=i.map(y=>{const L=m()(t,["attributes",y.name],{}),k={...y,fieldSchema:L,metadatas:m()(t,["metadatas",y.name,"edit"],{})};if(L.type==="relation"){const B=P(L.targetModel,s).pluginOptions||{};W()(k,"targetModelPluginOptions",B),W()(k,"queryInfos",{shouldDisplayRelationLink:ae(t,y.name,s)})}return k});return n.push(v),n},[]),q=(t,s)=>t.layouts.list.reduce((i,v)=>{const y=m()(t,["attributes",v],{}),L=m()(t,["metadatas",v,"list"],{}),k=y.type;if(k==="relation")return i.push({key:`__${v}_key__`,name:v,fieldSchema:y,metadatas:L}),i;if(k==="component"){const I=s[y.component],B=I.settings.mainField,x=I.attributes[B];return i.push({key:`__${v}_key__`,name:v,fieldSchema:y,metadatas:{...L,mainField:{...x,name:B}}}),i}return i.push({key:`__${v}_key__`,name:v,fieldSchema:y,metadatas:L}),i},[]),ae=(t,s,n)=>{const i=m()(t,["attributes",s,"targetModel"],"");return ee(n).includes(i)},ee=t=>t.filter(s=>s.isDisplayed).map(({uid:s})=>s),X=G;var te=e(18172);const K={error:null,isLoading:!0,layout:{},layouts:{}},Q=(t,s)=>(0,te.ZP)(t,n=>{switch(s.type){case"GET_DATA":{n.isLoading=!0,n.error=null,n.layout={};break}case"GET_DATA_SUCCEEDED":{const i=s.data.contentType.uid;n.layout=s.data,n.layouts[i]=s.data,n.isLoading=!1;break}case"GET_DATA_ERROR":{n.isLoading=!1,n.error=s.error;break}case"SET_LAYOUT_FROM_STATE":{n.error=null,n.layout=t.layouts[s.uid];break}case"UPDATE_LAYOUT":{const i=t.layout;n.layout={...i,contentType:{uid:i.contentType.uid,...s.newLayout.contentType}},n.layouts[i.contentType.uid]={...i,contentType:{uid:i.contentType.uid,...s.newLayout.contentType}};break}default:return n}});var Y=e(84668);const H=t=>{const[{error:s,isLoading:n,layout:i,layouts:v},y]=(0,o.useReducer)(Q,K),L=(0,o.useMemo)(Y.Vo,[]),{schemas:k}=(0,l.v9)(j=>L(j),l.wU),I=(0,o.useRef)(!0),{get:B}=(0,f.kY)(),x=(0,o.useCallback)(async(j,_)=>{if(v[j]){y({type:"SET_LAYOUT_FROM_STATE",uid:j});return}y({type:"GET_DATA"});try{const{data:{data:oe}}=await B(`/content-manager/content-types/${j}/configuration`,{cancelToken:_.token});y({type:"GET_DATA_SUCCEEDED",data:X(oe,k)})}catch(oe){if(D.default.isCancel(oe))return;I.current&&console.error(oe),I.current&&y({type:"GET_DATA_ERROR",error:oe})}},[v,k,B]);(0,o.useEffect)(()=>()=>{I.current=!1},[]),(0,o.useEffect)(()=>{const _=D.default.CancelToken.source();return x(t,_),()=>{_.cancel("Operation canceled by the user.")}},[t,x]);const me=(0,o.useCallback)(j=>{y({type:"UPDATE_LAYOUT",newLayout:X(j,k)})},[k]);return{error:s,isLoading:n,layout:i,updateLayout:me}},J=t=>t["content-manager_app"].collectionTypeLinks;var Z=e(80129),le=e(13218),ye=e.n(le);const ie=(t,s)=>Object.keys(t).reduce((n,i)=>{const v=t[i],y=m()(s,[i],v);return ye()(v)?{...n,[i]:ie(v,y)}:(n[i]=y,n)},{}),pe=(t,s,n)=>{const i=t.find(({to:x})=>x.includes(s));if(!i)return"/";const{to:v,search:y}=i,L=(0,Z.parse)(y),k=(0,Z.parse)(n.substring(1)),I=ie(L,k);return`${v}?${(0,Z.stringify)(I,{encode:!1})}`},a=t=>{const[{rawQuery:s}]=(0,f.Kx)(),n=(0,l.v9)(J);return pe(n,t,s)};var u=e(16550);const O=()=>{const{search:t}=(0,u.TH)(),s=t?(0,Z.parse)(t.substring(1)):{};return s.plugins?(0,Z.stringify)({plugins:s.plugins},{encode:!1}):""};var S=e(80015);const N=(t,s,n)=>({type:S.m,permissions:t,__meta__:{plugins:s,containerName:n}}),R=()=>({type:S.Q}),A=t=>t["content-manager_rbacManager"].permissions,M=t=>t.rbacProvider.collectionTypesRelatedPermissions,V=(t,s,n="listView")=>{const i=(0,l.v9)(M),v=(0,l.v9)(A),y=(0,l.I0)(),L=i[s];return(0,o.useEffect)(()=>L?(y(N(L,t?t.plugins:null,n)),()=>{y(R())}):()=>{},[L,y,t,n]),v};var ue=e(99781);const $=()=>useContext(WysiwygContext),se=null,fe=t=>{const s=(0,o.useRef)();return(0,o.useEffect)(()=>{s.current=t},[t]),s.current};var Te=e(15699),Ee=e(40703)},15699:(U,g,e)=>{e.d(g,{Y:()=>E});var o=e(67294),l=e(99168),c=e.n(l),h=e(40703);const E=(D,{type:f="STRAPI_DND",index:d,item:T={},onStart:r,onEnd:m,onGrabItem:C,onDropItem:W,onCancel:b,onMoveItem:P,dropSensitivity:G="regular"})=>{const w=(0,o.useRef)(null),[{handlerId:z},q]=(0,l.useDrop)({accept:f,collect(K){return{handlerId:K.getHandlerId()}},hover(K,re){if(!w.current)return;const Q=K.index,Y=d;if(Q!==Y){if(G==="regular"){const ne=w.current.getBoundingClientRect(),H=(ne.bottom-ne.top)/2,J=re.getClientOffset().y-ne.top;if(Q<Y&&J<H||Q>Y&&J>H)return}P(Y,Q),K.index=Y}}}),[{isDragging:ae},ee,X]=(0,l.useDrag)({type:f,item(){r&&r();const{width:K}=w.current?.getBoundingClientRect()??{};return{index:d,width:K,...T}},end(){m&&m()},canDrag:D,isDragging:T.id?K=>T.id===K.getItem().id:void 0,collect:K=>({isDragging:K.isDragging()})}),te=(0,h.A)(D,d,{onGrabItem:C,onDropItem:W,onCancel:b,onMoveItem:P});return[{handlerId:z,isDragging:ae,handleKeyDown:te},w,q,ee,X]}},40703:(U,g,e)=>{e.d(g,{A:()=>l});var o=e(67294);const l=(c,h,{onCancel:E,onDropItem:D,onGrabItem:f,onMoveItem:d})=>{const[T,r]=(0,o.useState)(!1),m=P=>{T&&(P==="UP"?d(h-1,h):P==="DOWN"&&d(h+1,h))},C=()=>{T?(D&&D(h),r(!1)):(f&&f(h),r(!0))},W=()=>{T&&(r(!1),E&&E(h))};return P=>{if(c&&!(P.key==="Tab"&&!T))switch(P.preventDefault(),P.key){case" ":case"Enter":C();break;case"Escape":W();break;case"ArrowDown":case"ArrowRight":m("DOWN");break;case"ArrowUp":case"ArrowLeft":m("UP");break;default:}}}},84668:(U,g,e)=>{e.d(g,{Jg:()=>d,KQ:()=>D,Vo:()=>f,Yg:()=>c});var o=e(20573),l=e(14506);const c=()=>r=>r["content-manager_app"]||l.E,h=()=>createSelector(c(),r=>r),E=()=>createSelector(c(),r=>r.models),D=()=>(0,o.P1)(c(),r=>({collectionTypeLinks:r.collectionTypeLinks,singleTypeLinks:r.singleTypeLinks})),f=()=>(0,o.P1)(c(),({components:r,models:m})=>({schemas:[...r,...m]})),d=(0,o.P1)(c(),r=>r.fieldSizes);var T=null},21323:(U,g,e)=>{e.d(g,{Z:()=>l});const l=c=>c["content-manager_editViewLayoutManager"].currentLayout},56723:(U,g,e)=>{e.d(g,{Z:()=>o});const o={COMPONENT:"component",EDIT_FIELD:"editField",FIELD:"field",DYNAMIC_ZONE:"dynamicZone",RELATION:"relation"}},69881:(U,g,e)=>{e.d(g,{Z:()=>l});const l=c=>`content-manager.${c}`},47815:(U,g,e)=>{e.d(g,{_Q:()=>J.Z,W3:()=>h,ko:()=>d,FE:()=>r,Di:()=>b,du:()=>z,TA:()=>ee,Ts:()=>re,Uo:()=>Y,IF:()=>H,OB:()=>de.Z,w8:()=>ie,kc:()=>ge});var o=e(50361),l=e.n(o);const h=(a,u,p)=>{if(Array.isArray(a)&&u>=0&&p>=0&&u<=a.length-1&&p<=a.length-1){const O=l()(a),S=O.splice(u,1);return O.splice(p,0,S[0]),O}return a};var E=e(7334),D=e.n(E);const d=a=>{const u=a.type;return u==="relation"?!D()(a.relationType).includes("morph"):!["json","dynamiczone","richtext","password"].includes(u)&&!!u},T=(a,u)=>{typeof a=="function"?a(u):a!=null&&(a.current=u)},r=(...a)=>u=>a.forEach(p=>T(p,u));var m=e(27361),C=e.n(m);const W=(a,u)=>Object.keys(a).reduce((p,O)=>{const S=C()(a,[O],{}),{default:N,component:R,type:A,required:M,min:F,repeatable:V}=S;if(N!==void 0&&(p[O]=N),A==="component"){const ue=u?.[R]?.attributes??{},$=W(ue,u);if(M===!0&&(p[O]=V===!0?[]:$),F&&V===!0&&M){p[O]=[];for(let se=0;se<F;se+=1)p[O].push($)}}return A==="dynamiczone"&&M===!0&&(p[O]=[]),p},{}),b=W;var P=e(57557),G=e.n(P);const z=({layouts:a,metadatas:u,...p})=>{const O=a.list.map(R=>R.name?R.name:R),S=Object.keys(u).reduce((R,A)=>{const M=C()(u,[A],{});let F=M.edit;return F.mainField&&(F={...F,mainField:M.edit.mainField.name}),{...R,[A]:{edit:F,list:G()(M.list,["mainField"])}}},{}),N=a.edit.map(R=>R.map(({name:A,size:M})=>({name:A,size:M})));return{...p,layouts:{edit:N,list:O},metadatas:S}},q=(a,u)=>a.map(p=>({...p,subject:u})),ee=a=>{const u={create:[{action:"plugin::content-manager.explorer.create",subject:null}],delete:[{action:"plugin::content-manager.explorer.delete",subject:null}],publish:[{action:"plugin::content-manager.explorer.publish",subject:null}],read:[{action:"plugin::content-manager.explorer.read",subject:null}],update:[{action:"plugin::content-manager.explorer.update",subject:null}]};return Object.keys(u).reduce((p,O)=>(p[O]=q(u[O],a),p),{})};var X=e(7654),te=e.n(X);const re=a=>a.split(".").filter(u=>te()(parseInt(u,10))),Y=a=>{if(a.length===0)return-1;const u=Math.max.apply(Math,a.map(p=>p.__temp_key__??0));return Number.isNaN(u)?-1:u},H=a=>`/content-manager/${a}`;var de=e(69881),J=e(56723),Z=e(36968),le=e.n(Z);const ie=(a,u,p)=>{const O=A=>u.find(M=>M.uid===A),S=Object.assign({},a),N=a[p].uid,R=O(N);return le()(S,[p],{...a[p],...R}),Object.keys(a.components).forEach(A=>{const M=O(A);le()(S,["components",A],{...a.components[A],...M})}),S};var ce=e(73599);const ge=(a,u,p)=>{const O=(S,N)=>Object.keys(S).reduce((R,A)=>{const M=(0,ce.UN)(N,A),F=C()(S,A),V=(0,ce.k2)(N,[A,"component"]),ue=(0,ce.k2)(N,[A,"repeatable"]);return M==="dynamiczone"?(R[A]=F.map($=>O($,p[$.__component])),R):M==="component"?(ue?R[A]=F&&F.map($=>O($,p[V])):R[A]=F&&O(F,p[V]),R):(M!=="password"&&(R[A]=F),R)},{});return O(a,u)}},75194:(U,g,e)=>{e.d(g,{K:()=>d});var o=e(67294),l=e(45697),c=e.n(l),h=e(5079),E=e(11047),D=e(75515),f=e(13037);function d({children:T,...r}){const{color:m}=r.data,{themeColorName:C}=(0,f.k)(m);return o.createElement(h.c.Option,{...r},o.createElement(E.k,{alignItems:"center",gap:2},o.createElement(E.k,{height:2,background:m,borderColor:C==="neutral0"?"neutral150":"transparent",hasRadius:!0,shrink:0,width:2}),o.createElement(D.Z,{textColor:"neutral800",ellipsis:!0},T)))}d.propTypes={children:c().node.isRequired,data:c().shape({color:c().string}).isRequired}},54878:(U,g,e)=>{e.d(g,{R:()=>d});var o=e(67294),l=e(45697),c=e.n(l),h=e(5079),E=e(11047),D=e(75515),f=e(13037);function d({children:T,...r}){const{color:m}=r.data,{themeColorName:C}=m?(0,f.k)(m):{};return o.createElement(h.c.SingleValue,{...r},o.createElement(E.k,{alignItems:"center",gap:2},o.createElement(E.k,{height:2,background:m,borderColor:C==="neutral0"?"neutral150":"transparent",hasRadius:!0,shrink:0,width:2}),o.createElement(D.Z,{textColor:"neutral800",ellipsis:!0},T)))}d.defaultProps={children:null},d.propTypes={children:c().node,data:c().shape({color:c().string}).isRequired}},53616:(U,g,e)=>{e.d(g,{$k:()=>f,FT:()=>T,Nj:()=>D,Ot:()=>E,QM:()=>c,lv:()=>d,sN:()=>l,uL:()=>r,x4:()=>h});var o=e(42675);const l="settings_review-workflows",c="Settings/Review_Workflows/SET_WORKFLOWS",h="Settings/Review_Workflows/WORKFLOW_DELETE_STAGE",E="Settings/Review_Workflows/WORKFLOW_ADD_STAGE",D="Settings/Review_Workflows/WORKFLOW_UPDATE_STAGE",f="Settings/Review_Workflows/WORKFLOW_UPDATE_STAGE_POSITION",d={primary600:"Blue",primary200:"Lilac",alternative600:"Violet",alternative200:"Lavender",success600:"Green",success200:"Pale Green",danger500:"Cherry",danger200:"Pink",warning600:"Orange",warning200:"Yellow",secondary600:"Teal",secondary200:"Baby Blue",neutral400:"Gray",neutral0:"White"},T=o.W.colors.primary600,r={STAGE:"stage"}},53752:(U,g,e)=>{e.d(g,{n:()=>E});var o=e(88767),l=e(73599),c=e(80129),h=e.n(c);function E(D={}){const{id:f="",...d}=D,T={populate:"stages"},{get:r}=(0,l.kY)(),m=(0,c.stringify)({...T,...d},{encode:!1}),{data:C,isLoading:W,status:b,refetch:P}=(0,o.useQuery)(["review-workflows","workflows",f],async()=>{try{const{data:{data:w}}=await r(`/admin/review-workflows/workflows/${f}${m?`?${m}`:""}`);return w}catch{return null}});let G=[];return f&&C?G=[C]:Array.isArray(C)&&(G=C),{workflows:G,isLoading:W,status:b,refetch:P}}},13037:(U,g,e)=>{e.d(g,{k:()=>c,s:()=>h});var o=e(42675),l=e(53616);function c(E){if(!E)return null;const f=Object.entries(o.W.colors).filter(([,d])=>d.toUpperCase()===E.toUpperCase()).reduce((d,[T])=>(l.lv?.[T]&&(d=T),d),null);return f?{themeColorName:f,name:l.lv[f]}:null}function h(){return Object.entries(l.lv).map(([E,D])=>({hex:o.W.colors[E].toUpperCase(),name:D}))}}}]);
